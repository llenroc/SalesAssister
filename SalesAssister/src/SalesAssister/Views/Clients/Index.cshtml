@{
    ViewData["Title"] = "Sales Assister";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using System.Security.Claims

@model IEnumerable<Microsoft.AspNet.Identity.EntityFramework.IdentityRole>


@model IEnumerable<SalesAssister.Models.Client>

<h3 class="salesPeople">@User.GetUserName()'s Clients </h3>

<br>

<table class="table">
    <tr>
        <th>
            <p class="glyphicon glyphicon-user"> NAME</p>
        </th>
        <th>
            <p class="glyphicon glyphicon-flag"> EMAIL</p>
        </th>
        <th>
            <p class="glyphicon glyphicon-phone-alt"> PHONE</p>
        </th>
    </tr>
  @foreach (var client in Model)
  {
      <tr>
          <td>@Html.DisplayFor(x => client.Name)</td>
          <td>@Html.DisplayFor(x => client.Email)</td>
          <td>@Html.DisplayFor(x => client.Phone)</td>
          <td>
              @Html.ActionLink("EDIT", "Edit", new { id = client.ClientId }) | @Html.ActionLink("DELETE", "Delete", new { id = client.ClientId }) | @Html.ActionLink("CONTACTS", "Index", "Contacts", new { id = client.ClientId })
          </td>
      </tr>
   }
</table>

<h3>Add Client</h3>
@using (Html.BeginForm("newClient", "Clients"))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <div>Client Name</div>
    <p>
        @Html.TextBox("Name")
    </p>

    <div>Client Email</div>
    <p>
        @Html.TextBox("Email")
    </p>

    <div>Client Phone</div>
    <p>
        @Html.TextBox("Phone")
    </p>

    <input type="submit" value="ADD" class="btn btn-warning" />
}

<div>
    @Html.ActionLink("BACK", "Index", "Account")
</div>

    
